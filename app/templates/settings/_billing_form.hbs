<div class="form-horizontal">
  <fieldset>
    <legend>Billing Information</legend>
    {{#if account.isSaving}}
      <div class="alert alert-info">
        <h4 class="text-center text-info">Updating billing...</h4>
      </div>
    {{else}}
      <div class="control-group">
        <label for="organizationName" class="control-label">Organization Name</label>
        <div class="controls">
          {{view view.organisationView class="input-block-level" placeholder="Payer's name shown on the receipts, if different from company name."}}
        </div>
      </div>

      <div class="control-group">
        <label for="billingEmail" class="control-label">Billing Email</label>
        <div class="controls">
          {{view view.billingInfoView class="input-block-level" placeholder="Email address where the receipts are sent to"}}
        </div>
      </div>

      <div class="control-group">
        <label for="yourReference" class="control-label">Your Reference</label>
        <div class="controls">
          {{input type="text" value=reference class="input-block-level" placeholder="Your internal reference shown on the receipts."}}
        </div>
      </div>

      <div class="control-group">
        <label for="phoneNumber" class="control-label">Phone Number</label>
        <div class="controls">
          {{input type="text" value=phone class="input-label"}}
        </div>
      </div>

      <div class="control-group">
        <label for="country" class="control-label">Country</label>
        <div class="controls">
          {{view Ember.Select contentBinding="controller.controllers.countries" valueBinding="country"}}
        </div>
      </div>

      <div class="control-group">
        <label for="billingEmail" class="control-label">VAT ID</label>
        <div class="controls">
          {{input type="text" value=vat class="input-block-level" placeholder="If you're a company in a European Union country, enter your VAT ID"}}
        </div>
      </div>

      <h4>Credit Card</h4>
      {{#unless hasGatewayAccount}}
        <form id="card-form" method="POST">
          <div class="control-group">
            <label class="control-label">Card Number</label>
            <div class="controls">
              <input id="card-number" type="text" size="20" value="4242424242424242"/>
            </div>
          </div>
          <div class="control-group">
            <label class="control-label">CVC</label>
            <div class="controls">
              <input id="card-cvc" type="text" size="4" class="input-mini" value="111"/>
            </div>
          </div>
          <div class="control-group">
            <label class="control-label">
              <span>Expiration (MM/YYYY)</span>
            </label>
            <div class="controls">
              <input id="card-expiry-month" type="text" size="2"  class="input-mini" value="11"/>
              <span> / </span>
              <input id="card-expiry-year" type="text" size="4" class="input-mini" value="2015"/>
            </div>
          </div> 
        </form>
      {{else}}
        {{#if activeCard.isLoading}}
          {{partial 'is_loading'}}
        {{else}}
          <table class="table table-striped table-bordered table-hover">
            <tr>
              <td>Card Number</td>
              <td>XXXXX{{activeCard.last4}}</td>
            </tr>
            <tr>
              <td>Card Type</td>
              <td>{{activeCard.cardType}}</td>
            </tr>
          </table>
        {{/if}}
      {{/unless}}
      <div class="form-actions">
        {{#if hasGatewayAccount}}
          <button type="submit" class="btn btn-primary" {{action update}} {{bindAttr disabled="account.isSaving"}}>Save</button>
        {{else}}
          <button type="submit" class="btn btn-primary" {{action createTokenAndSubmit target="view"}} {{bindAttr disabled="account.isSaving"}}>Save</button>
        {{/if}}
        <button class="btn" {{action "cancel"}} {{bindAttr disabled=account.isSaving}}>Cancel</button>
      </div>
    </fieldset>
  {{/if}}
</div>
