<div class="modal fade">
  <div class="modal-header">
    <button type="button" class="close" {{action close}} aria-hidden="true">&times;</button>
    <h3>Are You Sure?</h3>
  </div>

  <div class="modal-body">
    {{#if isUpdatingDeals}} 
      <img src="/images/ajax-loader.gif"/> <span class="muted">saving...please wait....</span>
    {{/if}}
    {{#if hasDeals}}
      {{#if otherStates.length}}
        <p>The pipeline state <strong>{{name}}</strong> has deals associated with it, please choose a new pipline state for these deals..</p>
        <p>{{view Ember.Select contentBinding="otherStates" valueBinding="selectedOtherState"}} <button {{action transferDeals}} {{bind-attr disabled=isUpdatingDeals}} class="btn btn-danger">Change State</button>
      {{else}}
        You need to create a new pipeline state to transfer the deals.  This is the only current state.</p>
      {{/if}}
    {{/if}}
    {{#if otherStates.length}}
      <p>This action cannot be undone! Deleting <strong>{{name}}</strong> will be permanent.</p>

      <button class="btn btn-large btn-danger btn-block" {{action deleteRecord this}} {{bind-attr disabled=hasDeals}}>I understand the consequences, delete this pipeline state.</button>
    {{/if}}
  </div>

  <div class="modal-footer">
    <a href="#" class="btn" {{action close}}>Cancel</a>
  </div>
</div>
