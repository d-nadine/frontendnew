<div class="item contact-name">
  <div class="icon">
    <i class="ss-standard ss-user"></i>
  </div>
  <div class="description">Name</div>
  <div class="chrome-hack">Chrome Hack</div>
  <div class="field">
    {{autocomplete-textbox scopes="contact" value=model.name queryKey="displayName" action="modelChanged" validations=nameValidations validator=targetObject validationField="name" writeableValue=true isValid=isValid saveModel="saveModel"}}
    {{#unless model.isNew}}
      <button class="btn btn-primary" {{action "clearExisting"}}>Clear and Add New</button>
    {{/unless}}
  </div>
</div>
{{#unless model.isNew}}
<div class="alert">
  <button type="button" class="close" data-dismiss="alert">×</button>
  {{avatar model}}
  <strong>Warning!</strong>
  <span class="name-variable">{{model.nameWithEmail}}</span> is already a contact. You can view their {{#resource-link-to model}}details here{{/resource-link-to}} or continue below to update their contact information.
</div>
{{/unless}}
<div class="item company">
  <div class="icon">
    <i class="ss-standard ss-buildings"></i>
  </div>
  <div class="description">Company</div>
  <div class="chrome-hack">Chrome Hack</div>
  <div class="field company">
    {{autocomplete-textbox scopes="company" value=model.companyName queryKey="name" writeableValue=true saveModel="saveModel"}}
  </div>
</div>
<div class="item">
  <div class="icon">
    <i class="ss-standard ss-globe"></i>
  </div>
  <div class="description">Website</div>
  <div class="chrome-hack">Chrome Hack</div>
  <div class="field">
    {{regex-input value=model.website regex=Radium.URL_REGEX}}
  </div>
</div>
{{#each email in emailAddresses}}
  {{#multiple-control item=email items=emailAddresses modelChanged="modelChanged" model=model relationship="emailAddresses" saveModel="saveModel" icon="ss-mail" queryProfile="queryProfile"}}
    {{autocomplete-email queryKey="email" value=value class="single" scopes="contact" modelChanged="modelChanged" saveModel="saveModel" queryProfile="queryProfile" validations=_parent.emailValidations validator=_parent.targetObject validationField="email" isValid=_parentObject.isValid}}
  {{/multiple-control}}
{{/each}}
{{#each phoneNumber in phoneNumbers}}
  {{#multiple-control item=phoneNumber items=phoneNumbers modelChanged="modelChanged" model=model relationship="phoneNumbers" saveModel="saveModel" icon="ss-phone"}}
    {{phone-input value=value class="single" saveModel="saveModel" modelChanged="modelchanged"}}
  {{/multiple-control}}
{{/each}}
<div class="item">
  <div class="icon"><i class="ss-standard ss-list"></i></div>
  <div class="description">Lists</div>
  <div class="field">
    {{tag-picker model=model tagNames=model.tagNames}}
  </div>
</div>
<div class="item">
  <div class="icon"><i></i></div>
  <div class="description">Assigned To</div>
  <div class="field">
    {{autocomplete-textbox source=users value=model.user queryKey="displayName" validations=userValidations validator=targetObject validationField="user" isValid=isValid}}
  </div>
</div>
<div class="clearfix"></div>
<a href="#" class="showmore btn" {{action "toggleMore"}}>
  <i {{bind-attr class=":ss-standard showMore:ss-navigatedown:ss-navigateup"}}></i>
</a>
<div class="clearfix"></div>
<div class="more">
  <div class="item">
    <div class="icon"><i class="ss-standard ss-tag"></i></div>
    <div class="description">Title</div>
    <div class="field">
      {{autocomplete-textbox autocompleteType=Radium.Title value=model.title queryKey="title" queryParameters=titleQueryParameters writeableValue=true }}
    </div>
  </div>
  <div class="item address">
    <div class="icon"><i class="ss-standard ss-location"></i></div>
    <div class="description">Address</div>
    <div class="chrome-hack">Chrome Hack</div>
    <div class="field">
      {{multiple-address addresses=addresses current=currentAddress saveModel=saveModel parent=targetObject}}
    </div>
  </div>
  <div class="item">
    <div class="icon"><i class="ss-standard ss-notebook"></i></div>
    <div class="description">About</div>
    <div class="field">
      {{textarea class="single" value=model.about}}
    </div>
  </div>
  <div class="item">
    <div class="icon"><i class="ss-standard ss-fax"></i></div>
    <div class="description">Fax</div>
    <div class="field">
      {{input type="text" value=model.fax class="single"}}
    </div>
  </div>
  <div class="item">
    <div class="icon"><i class=""></i></div>
    <div class="description">Sex</div>
    <div class="field">
      <div class="radio-group">
        <div>
          {{radio-button name="gender" value="m" selection=model.gender}}
          <span class="radio-label">Male</span>
        </div>
        <div>
          {{radio-button name="gender" value="f" selection=model.gender}}
          <span class="radio-label">Female</span>
        </div>
      </div>
    </div>
  </div>
  <div class="item">
    <div class="icon"><i class=""></i></div>
    <div class="description">Source</div>
    <div class="field">
      {{autocomplete-textbox source=leadSources value=model.source}}
    </div>
  </div>
  <div class="item">
    <div class="icon"><i class=""></i></div>
    <div class="description">Status</div>
    <div class="field">
      {{autocomplete-textbox source=contactStatuses value=model.contactStatus queryKey="name"}}
    </div>
  </div>
  {{!debugger}}
  {{!input type="text" value=model.name action="saveModel" on="enter"}}
  {{#each field in customFields}}
    <div class="item">
      <div class="icon"><i class=""></i></div>
      <div class="description">{{field.name}}</div>
      <div class="field">
        {{renderCustomField field model}}
      </div>
    </div>
  {{/each}}
  {{#link-to "settings.customFields" class="settings-link"}}Custom Fields{{/link-to}}
  {{#if model.twitter}}
    <div class="item">
      <div class="icon"><i class="ss-social ss-twitter"></i></div>
      <div class="description">Twitter</div>
      <div class="field">
        <a target="_new" {{bind-attr href=model.twitter.url}}{{model.twitter.url}}</a>
      </div>
    </div>
  {{/if}}
  {{#if model.facebook}}
    <div class="item">
      <div class="icon"><i class="ss-social ss-facebook"></i></div>
      <div class="description">Facebook</div>
      <div class="field">
        <a target="_new" {{bind-attr href=model.facebook.url}}{{model.facebook.url}}</a>
      </div>
    </div>
  {{/if}}
  {{#if model.linkedin}}
    <div class="item">
      <div class="icon"><i class="ss-social ss-linkedin"></i></div>
      <div class="description">Linkedin</div>
      <div class="field">
        <a target="_new" {{bind-attr href=model.linkedin.url}}{{model.linkedin.url}}</a>
      </div>
    </div>
  {{/if}}
</div>
<div class="submit">
  <hr/>
  {{partial "saving"}}
  <button class="btn btn-large btn-primary" {{action "saveModel"}} {{bind-attr disabled=isSaving}}>Submit</button>
</div>
<div class="modal hide fade">
  <div class="modal-header">
    <button type="button" {{action "cancelSubmit" target="view" bubbles=false}} class="close">×</button>
    <h2>Add Company?</h2>
  </div>
  <div class="modal-body">
    <p>You are about to create a contact without a company, do you want to do this?</p>
  </div>
  <div class="modal-footer">
    <a href="#" {{action "cancelSubmit" bubbles=false}} class="btn">Cancel</a>
    <a href="#" {{action "saveNew" target=targetObject bubbles=false}} class="btn btn-primary">Proceed</a>
  </div>
</div>